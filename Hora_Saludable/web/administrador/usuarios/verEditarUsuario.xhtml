<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>
        <ui:composition template="./../../plantillas/frontEndAdministrador.xhtml">
            <ui:define name="titulo">
                usuario
            </ui:define>
            <ui:define name="title">
                <div class="tituloContenido">
                    USUARIO                    
                </div>
            </ui:define>
            <ui:define name="body">
                <h:form id="panelVerActualizarUsuarios" enctype="multipart/form-data">                    
                    <p:messages autoUpdate="true" closable="true" />
                    <p:panelGrid styleClass="panelgrid" id="panelgridusuario">
                        <p:row>
                            <p:column colspan="3" >
                                <p:outputLabel style="font-size: 20px;" value="Foto de Perfil"/>
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column >                                
                            </p:column>
                            <p:column  rendered="#{verEditarUsuarioController.campoFoto}">                                
                                <p:graphicImage width="100" height="100" library="#{verEditarUsuarioController.rutaFoto}"
                                                name="#{verEditarUsuarioController.usuario.usufoto}" />
                            </p:column>
                            <p:column rendered="#{verEditarUsuarioController.campoFoto}">
                                <p:commandLink action="#{verEditarUsuarioController.mostraSubirFoto()}" value="Cambiar"/>                                                                 
                            </p:column>
                            <p:column  rendered="#{verEditarUsuarioController.camposubidaFoto}">
                                <p:fileUpload required="true"
                                    mode="simple" value="#{verEditarUsuarioController.foto}"/>                                
                            </p:column>
                            <p:column rendered="#{verEditarUsuarioController.camposubidaFoto}">
                                <p:commandButton value="Subir" style="background:#22419A; 
                                                 color: #FFFFFF" 
                                                 ajax="false" action="#{verEditarUsuarioController.actualizarFoto()}"
                                                 />
                            </p:column>                           
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <p:outputLabel style="font-size: 20px;" value="Datos Personales"/>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{verEditarUsuarioController.campoIdentificacion}">
                            <p:column>
                                <p:outputLabel value="Numero de Identificacion: "/>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="#{verEditarUsuarioController.usuario.usuidentificacion}"/>
                            </p:column>
                            <p:column>
                                <p:commandLink value="Modificar" action="#{verEditarUsuarioController.mostrarModificarIdentificacion()}"/>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{verEditarUsuarioController.campoModificarIdentificacion}">
                            <p:column>
                                <p:outputLabel value="Numero de Identificacion: "/>
                            </p:column>
                            <p:column>
                                <p:inputText value="#{verEditarUsuarioController.identificacion}"/>
                            </p:column>
                            <p:column>
                                <p:commandLink  value="Aceptar" action="#{verEditarUsuarioController.actualizarIdentificacion()}"
                                                onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"/>
                                <p:commandLink style="margin-left: 10px;"  value="Cancelar" action="#{verEditarUsuarioController.cancelarActualizarIdentificacion()}"
                                                onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"/>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{verEditarUsuarioController.campoNombre}">
                            <p:column>
                                <p:outputLabel value="Nombre: "/>
                            </p:column>
                            <p:column>
                                <p:outputLabel value="#{verEditarUsuarioController.usuario.usunombres}"/>
                            </p:column>
                            <p:column>
                                <p:commandLink value="Modificar" action="#{verEditarUsuarioController.mostrarModifiarNombre()}"/>
                            </p:column>
                        </p:row>
                        <p:row rendered="#{verEditarUsuarioController.campoModificarNombre}">
                            <p:column>
                                <p:outputLabel value="Nombre: "/>
                            </p:column>
                            <p:column>
                                <p:inputText value="#{verEditarUsuarioController.nombres}"/>  
                            </p:column>
                            <p:column>
                                <p:commandLink value="Aceptar" action="#{verEditarUsuarioController.actualizarNombre()}"
                                               onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"/>
                                <p:commandLink style="margin-left: 10px;" value="Cancelar" 
                                               action="#{verEditarUsuarioController.cancelarActualizarNombre()}"
                                               onstart="PF('efectoCarga').show()"  onsuccess="PF('efectoCarga').hide()"/>
                            </p:column>
                        </p:row>          
                    </p:panelGrid>
                </h:form>
            </ui:define>
        </ui:composition>
    </body>
</html>
